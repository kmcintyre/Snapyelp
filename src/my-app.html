<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">

<link rel="import" href="shared-styles.html">

<link rel="import" href="my-websocket.html">
<link rel="import" href="my-queue.html">
<link rel="import" href="my-index.html">

<dom-module id="my-app">
   <template>
      <style include="shared-styles">
      	:host {}
      	paper-toolbar {
      		background-color: #8D9096
      	}
      	.hidden {
      		display:none;
      	}
      </style>
      
      <my-websocket></my-websocket>
      
      <paper-toolbar>
      		<paper-icon-button slot="top" icon="{{ collapsed_icon(collapsed) }}" on-tap="toggle"></paper-icon-button>
  			<div slot="top" class="title">URL Analyzer</div>  			  			
	  </paper-toolbar>
	        
      <my-index id="url"></my-index>            
      
      <my-queue></my-queue>
      
   </template>
   <script> 	    
   class MyApp extends Polymer.Element {
       static get is() {
           return 'my-app';
       }
       
       static get properties() {
           return {
        	collapsed: {
				type: Boolean,
        		value: false
			}
         }
       }
       collapsed_icon(c, button) {
    	   return this.collapsed ? 'add' : 'remove'
       }
       toggle(e) {
    	   console.log(this.$.url.classList)
    	   	if ( this.$.url.classList.contains('hidden') ) {
       			this.$.url.classList.remove('hidden')
   			} else {
   				this.$.url.classList.add('hidden')
   			}
   
    	   this.collapsed = !this.collapsed;
       }
       ready() {
    	   console.log(MyApp.is, 'ready')
           super.ready();
       }     	       
   }
   customElements.define(MyApp.is, MyApp);
   </script>
</dom-module>